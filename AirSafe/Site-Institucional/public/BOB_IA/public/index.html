<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BobIA - AirSafe.</title>
    <link rel="stylesheet" href="style.css">
</head>

<body onload="onloadEsconder()">
    <div id="container">

        <section id="section_inicio" class="section_inicio">
            <div class="div_texto">
                <h1>Aqui está a BOB IA </h1>
                <h1>A inteligência artificial generativa da Air Safe<span> para suporte e
                        solução de problema especializado no nível N3</span></h1>
            </div>

            <p>Clique no botão abaixo para ter a interação com a IA</p>
            <div class="div_but">
                <button class="botao_inicio" onclick="encotrarIA()">BobIA</button>
            </div>
        </section>

        <section id="section_aposInicio" class="section_aposInicio">
            <h1>BobIA (Auxílio N3)</h1>
            <div class="apoio1">
                <div class="campo_paraDados" id="input_dados">
                    <textarea class="areadetexto" id="pergunta" type="text"
                        placeholder="Digite a pergunta..."></textarea>
                    <button class="botao_bobia" onclick="gerarResposta()">
                        <img class="img_botao" src="./pictures/semfundo-seta.png" alt="">
                    </button>
                </div>
            </div>

            <h3>Resposta da IA:</h3>
            <div id="resposta"></div>
        </section>
        <footer class="footer">
            <div class="footer-conteudo">
                <nav class="footer-nav">
                    <div class="imagem_footer">
                        <img class="i" src="./pictures/logo Airsafe sem fundo.png" alt="">
                        <h6> AirSafe. </h6>
                    </div>


                </nav>
                <nav class="footer-nav2">
                    <p class="texto88">contato@airsafe.com.br</p>
                    <p class="texto88">Rua Haddock Lobo, 595 - Cerqueira César, São Paulo - SP</p>
                </nav>
            </div>
        </footer>

    </div>

    <script>
        function onloadEsconder() {
            document.getElementById('section_inicio').style.display = "flex";
            document.getElementById('section_aposInicio').style.display = "none";
        }

        function encotrarIA() {
            document.getElementById('section_inicio').style.display = "none";
            document.getElementById('section_aposInicio').style.display = "flex";
        }

        async function gerarResposta() {
            const pergunta = document.getElementById('pergunta').value;

            const response = await fetch('/perguntar', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ pergunta })
            });

            const data = await response.json();

            resposta.style.display = 'block';
            document.getElementById('resposta').innerText = data.resultado;
        }

    </script>

</body>

</html>